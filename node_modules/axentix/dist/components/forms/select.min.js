var we=Object.defineProperty;var Ae=(l,i,d)=>i in l?we(l,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):l[i]=d;var T=(l,i,d)=>(Ae(l,typeof i!="symbol"?i+"":i,d),d),N=(l,i,d)=>{if(!i.has(l))throw TypeError("Cannot "+d)};var a=(l,i,d)=>(N(l,i,"read from private field"),d?d.call(l):i.get(l)),p=(l,i,d)=>{if(i.has(l))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(l):i.set(l,d)},x=(l,i,d,L)=>(N(l,i,"write to private field"),L?L.call(l,d):i.set(l,d),d);var m=(l,i,d)=>(N(l,i,"access private method"),d);(function(l,i){typeof exports=="object"&&typeof module!="undefined"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(l=typeof globalThis!="undefined"?globalThis:l||self,i(l.Select={}))})(this,function(l){var h,y,u,b,v,I,Ce,S,Ie,E,j,k,Se,D,ke,w,F,O,De;"use strict";const i=[],d={components:[],plugins:[],prefix:"ax",mode:""},L=t=>`--${d.prefix}-${t}`,g=t=>d.components.find(e=>e.name===t).class,$=()=>{const t=d.components.filter(s=>s.dataDetection),e=d.plugins.filter(s=>s.dataDetection);return[...t,...e].map(s=>s.name)},J=(t,e)=>{if(!t.name||!t.class){console.error(`[Axentix] Error registering ${e} : Missing required parameters.`);return}if(d[e].some(s=>s.name===t.name)){console.error(`[Axentix] Error registering ${e} : Already exist.`);return}t.autoInit&&(t.autoInit.selector=t.autoInit.selector+=":not(.no-axentix-init)"),d[e].push(t)},K=t=>{J(t,"components")},Q=t=>t.replace(/[\w]([A-Z])/g,e=>e[0]+"-"+e[1]).toLowerCase(),X=(t,e="")=>{const s=Q(t);return e?e+"-"+s:s},Y=(t,e,s,n,o="")=>{const r=e[0].toUpperCase()+e.slice(1).toLowerCase();$().includes(r)&&s!=="Collapsible"&&r!=="Sidenav"&&(t[e]=g(r).getDefaultOptions());const c=o?o+"-"+e:e,f=V(t[e],s,n,c);if(!(Object.keys(f).length===0&&t.constructor===Object))return f},V=(t,e,s,n="")=>Object.keys(t).reduce((o,r)=>{if(typeof t[r]=="object"&&t[r]!==null){const c=Y(t,r,e,s,n);c&&(o[r]=c)}else if(t[r]!==null){const c="data-"+e.toLowerCase()+"-"+X(r,n);if(s.hasAttribute(c)){const f=s.getAttribute(c);o[r]=typeof t[r]=="number"?Number(f):f,typeof t[r]=="boolean"&&(o[r]=f==="true")}}return o},{}),ee=(t,e)=>{const s=Object.assign({},g(t).getDefaultOptions());return V(s,t,e)},te=()=>{document.querySelectorAll("[data-ax]").forEach(e=>{let s=e.dataset.ax;if(s=s[0].toUpperCase()+s.slice(1).toLowerCase(),!$().includes(s)){console.error(`[Axentix] Error: ${s} component doesn't exist. 
 Did you forget to register him ?`,e);return}try{const n=g(s);new n(`#${e.id}`)}catch(n){console.error("[Axentix] Data: Unable to load "+s,n)}})},se=()=>{try{new Axentix.Axentix("all")}catch(t){console.error("[Axentix] Unable to auto init.",t)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&se(),te()});const H=(...t)=>t.reduce((e,s)=>{for(let n in s)e[n]=typeof s[n]=="object"&&s[n]!==null?H(e[n],s[n]):s[n];return e},{}),ne=(t,e,s)=>H(g(t).getDefaultOptions(),ee(t,s),e),oe=(t,e=document.createElement("div"))=>(t[0].parentElement.insertBefore(e,t[0]),t.forEach(n=>e.appendChild(n)),e),re=t=>t.replaceWith(...t.childNodes),M=(t,e,s)=>{const n=new CustomEvent("ax."+e,{detail:s||{},bubbles:!0});t.dispatchEvent(n)},ie=t=>{const e=i.find(s=>s.type!=="Toast"&&"#"+s.instance.el.id===t);return e?e.instance:!1},le=()=>Math.random().toString().split(".")[1],ae=t=>t.checkValidity()||t.validationMessage,ce=(t,e)=>{const s=document.createElement("div");s.axGenerated=!0,t.appendChild(s),s.classList.add("form-helper-invalid"),s.innerHTML=e},de=t=>{const e=t.querySelector(".form-helper-invalid");!e||e.axGenerated&&e.remove()},fe=t=>{t.classList.remove("form-valid","form-invalid","form-no-helper"),de(t)},ue=(t,e)=>{const s=t.getAttribute("data-form-validate");let n=!1;if(s){const c=s.toLowerCase().split(",");if(n=c.includes("auto"),c.includes("lazy")&&e==="input")return}const o=ae(t),r=t.closest(".form-field");return fe(r),o!==!0?(n&&typeof o=="string"?ce(r,o):r.querySelector(".form-helper-invalid")||r.classList.add("form-no-helper"),r.classList.add("form-invalid"),!1):(r.classList.add("form-valid"),r.querySelector(".form-helper-valid")||r.classList.add("form-no-helper"),!0)};let P=!0;const C=t=>{t.forEach(B)},z=t=>{if(P){P=!1;return}setTimeout(()=>{C(t)},10)},B=t=>{const e=t.closest(".form-field"),s=e.querySelector(".form-custom-select"),n=e.classList.contains("active"),o=["date","month","week","time"];let r=s&&t.tagName==="DIV"&&t.innerText.length>0;s||(r=t.value.length>0||t.tagName!=="SELECT"&&t.placeholder.length>0||t.tagName==="SELECT"||o.some(A=>t.matches(`[type="${A}"]`)));const c=document.activeElement===t,f=t.hasAttribute("disabled")||t.hasAttribute("readonly");t.firstInit?(U(t,n,r,c,e,s),t.firstInit=!1,t.isInit=!0):f||U(t,n,r,c,e,s)},U=(t,e,s,n,o,r)=>{const c=t.type==="textarea",f=o.querySelector("label:not(.form-check)");!e&&(s||n)?o.classList.add("active"):e&&!(s||n)&&o.classList.remove("active"),c?f&&(f.style.backgroundColor=W(f)):pe(t,o,r,f),n&&!c?o.classList.add("is-focused"):r||o.classList.remove("is-focused"),n&&c?o.classList.add("is-textarea-focused"):o.classList.remove("is-textarea-focused")},pe=(t,e,s,n)=>{const o=t.clientWidth,r=t.offsetLeft,c=t.clientHeight+(s?s.offsetTop:t.offsetTop)+"px",f=t.closest(".form-material").classList.contains("form-material-bordered");e.style.setProperty(L("form-material-position"),c);let A=r,_="left",Ee=o+"px",Z=0;e.classList.contains("form-rtl")&&(_="right",A=e.clientWidth-o-r),e.style.setProperty(L(`form-material-${_}-offset`),A+"px"),A!=0&&(Z=r),e.style.setProperty(L("form-material-width"),Ee),n&&(n.style.left=Z+"px",f&&(n.style.backgroundColor=W(n)))},W=t=>{let e=t;for(;e.parentElement;){let s=window.getComputedStyle(e).backgroundColor;if(s&&!["transparent","rgba(0, 0, 0, 0)"].includes(s))return s;e=e.parentElement}return"white"},G=(t,e)=>{t.hasAttribute("data-form-validate")&&ue(t,e.type)},he=(t,e)=>{t.forEach(s=>{s===e.target&&B(s)})},me=(t,e)=>{e.target.tagName==="FORM"&&e.target.classList.contains("form-material")&&z(t)},ve=t=>{t.forEach(r=>{r.firstInit=!0,r.validateRef=G.bind(null,r),r.addEventListener("input",r.validateRef),r.addEventListener("change",r.validateRef)}),C(t);const e=he.bind(null,t);document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0);const s=z.bind(null,t);window.addEventListener("pageshow",s);const n=me.bind(null,t);document.addEventListener("reset",n);const o=C.bind(null,t);window.addEventListener("resize",o)},ye=(t,e)=>{const s=t.files;s.length>1?e.innerHTML=Array.from(s).map(n=>n.name).join(", "):s[0]&&(e.innerHTML=s[0].name)},xe=t=>{if(t.isInit)return;t.isInit=!0;const e=t.querySelector('input[type="file"]'),s=t.querySelector(".form-file-path");e.handleRef=ye.bind(null,e,s),e.validateRef=G.bind(null,e),e.addEventListener("change",e.handleRef),e.addEventListener("input",e.validateRef),e.addEventListener("change",e.validateRef)},Le=()=>{const t=Array.from(document.querySelectorAll(".form-file"));try{t.forEach(xe)}catch(e){console.error("[Axentix] Form file error",e)}},R=(t=document.querySelectorAll(".form-material .form-field:not(.form-default) .form-control:not(.form-custom-select)"))=>{const{setupInputs:e,detectInputs:s}=Array.from(t).reduce((n,o)=>(o.isInit?n.detectInputs.push(o):n.setupInputs.push(o),n),{setupInputs:[],detectInputs:[]});Le();try{e.length>0&&ve(e),s.length>0&&C(s)}catch(n){console.error("[Axentix] Material forms error",n)}};document.addEventListener("DOMContentLoaded",()=>R());class ge{constructor(){T(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(e){if(e&&ie(e))throw new Error(`Instance already exist on ${e}`)}sync(){M(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){M(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){M(this.el,"component.destroy"),this.removeListeners();const e=i.findIndex(s=>s.instance.el.id===this.el.id);i.splice(e,1)}}const be={inputClasses:""};class q extends ge{constructor(e,s){super();p(this,I);p(this,S);p(this,E);p(this,k);p(this,D);p(this,w);p(this,O);T(this,"options");p(this,h,void 0);p(this,y,void 0);p(this,u,void 0);p(this,b,void 0);p(this,v,void 0);try{this.preventDbInstance(e),i.push({type:"Select",instance:this}),this.el=document.querySelector(e),this.options=ne("Select",s,this.el),this.setup()}catch(n){console.error("[Axentix] Select init error",n)}}setup(){this.el.style.display="none",x(this,y,oe([this.el])),a(this,y).className="form-custom-select",m(this,I,Ce).call(this)}reset(){this.destroy(!0),super.reset()}destroy(e){e||super.destroy(),a(this,h)&&(a(this,h).el.removeEventListener("ax.dropdown.open",a(this,v)),a(this,h).el.removeEventListener("ax.dropdown.close",a(this,v)),x(this,v,null),a(this,h).destroy(),a(this,h).el.remove(),x(this,h,null)),re(a(this,y)),this.el.classList.add("form-custom-select"),this.el.style.display=""}}h=new WeakMap,y=new WeakMap,u=new WeakMap,b=new WeakMap,v=new WeakMap,I=new WeakSet,Ce=function(){const e=`dropdown-${le()}`;x(this,u,document.createElement("div")),a(this,u).className=`form-control ${this.options.inputClasses}`,a(this,u).dataset.target=e;const s=document.createElement("div"),n=this.el.className.replace("form-control","");if(s.className=`dropdown-content ${n}`,this.el.disabled){a(this,u).setAttribute("disabled",""),a(this,y).append(a(this,u)),m(this,E,j).call(this,s);return}x(this,v,m(this,k,Se).bind(this));const o=document.createElement("div");o.className="dropdown",o.id=e,o.addEventListener("ax.dropdown.open",a(this,v)),o.addEventListener("ax.dropdown.close",a(this,v)),Array.from(this.el.attributes).forEach(f=>{f.name.startsWith("data-dropdown")&&o.setAttribute(f.name,f.value)}),o.append(a(this,u)),o.append(s),a(this,y).append(o),m(this,E,j).call(this,s);const r=g("Dropdown");x(this,h,new r(`#${e}`,{closeOnClick:!this.el.multiple,preventViewport:!0}));const c=window.getComputedStyle(o).zIndex;x(this,b,this.el.closest(".form-field").querySelector("label:not(.form-check)")),a(this,b).style.zIndex=c+5},S=new WeakSet,Ie=function(e,s){const n=document.createElement("div");n.className="form-field";const o=document.createElement("label");o.className="form-check";const r=document.createElement("input");r.type="checkbox",s&&r.setAttribute("disabled","");const c=document.createElement("span");return c.innerHTML=e,o.append(r,c),n.append(o),n},E=new WeakSet,j=function(e){for(const s of this.el.options){const n=s.hasAttribute("disabled"),o=document.createElement("div");o.className="dropdown-item",o.innerHTML=this.el.multiple?m(this,S,Ie).call(this,s.text,n).innerHTML:s.text,o.axValue=s.value||s.text,n?o.classList.add("form-disabled"):(o.axClickRef=m(this,D,ke).bind(this,o),o.addEventListener("click",o.axClickRef)),(s.hasAttribute("selected")||!this.el.multiple&&this.el.value===(s.value||s.text))&&m(this,w,F).call(this,o),e.append(o)}},k=new WeakSet,Se=function(){a(this,u).closest(".form-field").classList.toggle("is-focused")},D=new WeakSet,ke=function(e,s){s.preventDefault(),e.classList.contains("form-selected")?m(this,O,De).call(this,e):m(this,w,F).call(this,e)},w=new WeakSet,F=function(e){const s=e.axValue;this.el.multiple?e.querySelector("input").checked=!0:a(this,h)&&a(this,h).el.querySelectorAll(".dropdown-item").forEach(o=>o.classList.remove("form-selected")),e.classList.add("form-selected");const n=this.el.multiple?[...a(this,u).innerText.split(", ").filter(Boolean),s].join(", "):s;a(this,u).innerText=n,this.el.value=n,R([a(this,u)])},O=new WeakSet,De=function(e){const s=e.axValue;e.classList.remove("form-selected");let n="";if(this.el.multiple){e.querySelector("input").checked=!1;const o=a(this,u).innerText.split(", ").filter(Boolean),r=o.findIndex(c=>c===s);o.splice(r,1),n=o.join(", ")}a(this,u).innerText=n,this.el.value=n,R([a(this,u)])},T(q,"getDefaultOptions",()=>be),K({class:q,name:"Select",dataDetection:!0,autoInit:{enabled:!0,selector:".form-custom-select"}}),l.Select=q,Object.defineProperty(l,"__esModule",{value:!0}),l[Symbol.toStringTag]="Module"});
