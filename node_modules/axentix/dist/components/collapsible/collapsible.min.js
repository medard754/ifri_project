var et=Object.defineProperty;var st=(n,i,r)=>i in n?et(n,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[i]=r;var H=(n,i,r)=>(st(n,typeof i!="symbol"?i+"":i,r),r),z=(n,i,r)=>{if(!i.has(n))throw TypeError("Cannot "+r)};var o=(n,i,r)=>(z(n,i,"read from private field"),r?r.call(n):i.get(n)),c=(n,i,r)=>{if(i.has(n))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(n):i.set(n,r)},a=(n,i,r,v)=>(z(n,i,"write to private field"),v?v.call(n,r):i.set(n,r),r);var p=(n,i,r)=>(z(n,i,"access private method"),r);(function(n,i){typeof exports=="object"&&typeof module!="undefined"?module.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis!="undefined"?globalThis:n||self,n.Collapsible=i())})(this,function(){var g,D,m,u,f,b,x,y,d,I,it,T,nt,k,ot,O,W,S,rt,w,F,q,lt;"use strict";var n="";const i=[],r={components:[],plugins:[],prefix:"ax",mode:""},v=e=>r.components.find(t=>t.name===e).class,U=()=>{const e=r.components.filter(s=>s.dataDetection),t=r.plugins.filter(s=>s.dataDetection);return[...e,...t].map(s=>s.name)},M=(e,t)=>{if(!e.name||!e.class){console.error(`[Axentix] Error registering ${t} : Missing required parameters.`);return}if(r[t].some(s=>s.name===e.name)){console.error(`[Axentix] Error registering ${t} : Already exist.`);return}e.autoInit&&(e.autoInit.selector=e.autoInit.selector+=":not(.no-axentix-init)"),r[t].push(e)},B=e=>{M(e,"components")},P=e=>e.replace(/[\w]([A-Z])/g,t=>t[0]+"-"+t[1]).toLowerCase(),Z=(e,t="")=>{const s=P(e);return t?t+"-"+s:s},G=(e,t,s,l,C="")=>{const h=t[0].toUpperCase()+t.slice(1).toLowerCase();U().includes(h)&&s!=="Collapsible"&&h!=="Sidenav"&&(e[t]=v(h).getDefaultOptions());const L=C?C+"-"+t:t,E=N(e[t],s,l,L);if(!(Object.keys(E).length===0&&e.constructor===Object))return E},N=(e,t,s,l="")=>Object.keys(e).reduce((C,h)=>{if(typeof e[h]=="object"&&e[h]!==null){const L=G(e,h,t,s,l);L&&(C[h]=L)}else if(e[h]!==null){const L="data-"+t.toLowerCase()+"-"+Z(h,l);if(s.hasAttribute(L)){const E=s.getAttribute(L);C[h]=typeof e[h]=="number"?Number(E):E,typeof e[h]=="boolean"&&(C[h]=E==="true")}}return C},{}),J=(e,t)=>{const s=Object.assign({},v(e).getDefaultOptions());return N(s,e,t)},K=()=>{document.querySelectorAll("[data-ax]").forEach(t=>{let s=t.dataset.ax;if(s=s[0].toUpperCase()+s.slice(1).toLowerCase(),!U().includes(s)){console.error(`[Axentix] Error: ${s} component doesn't exist. 
 Did you forget to register him ?`,t);return}try{const l=v(s);new l(`#${t.id}`)}catch(l){console.error("[Axentix] Data: Unable to load "+s,l)}})},Q=()=>{try{new Axentix.Axentix("all")}catch(e){console.error("[Axentix] Unable to auto init.",e)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&Q(),K()});const R=(...e)=>e.reduce((t,s)=>{for(let l in s)t[l]=typeof s[l]=="object"&&s[l]!==null?R(t[l],s[l]):s[l];return t},{}),V=(e,t,s)=>R(v(e).getDefaultOptions(),J(e,s),t),A=(e,t,s)=>{const l=new CustomEvent("ax."+t,{detail:s||{},bubbles:!0});e.dispatchEvent(l)},X=e=>i.filter(t=>t.type===e).map(t=>t.instance),Y=e=>{const t=i.find(s=>s.type!=="Toast"&&"#"+s.instance.el.id===e);return t?t.instance:!1},_=(e,t='[data-target="{ID}"]')=>Array.from(document.querySelectorAll(t.replace("{ID}",e)));class j{constructor(){H(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(t){if(t&&Y(t))throw new Error(`Instance already exist on ${t}`)}sync(){A(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){A(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){A(this.el,"component.destroy"),this.removeListeners();const t=i.findIndex(s=>s.instance.el.id===this.el.id);i.splice(t,1)}}const tt={animationDuration:300,sidenav:{activeClass:!0,activeWhenOpen:!0,autoClose:!0}};class $ extends j{constructor(t,s){super();c(this,I);c(this,T);c(this,k);c(this,O);c(this,S);c(this,w);c(this,q);H(this,"options");c(this,g,void 0);c(this,D,void 0);c(this,m,!0);c(this,u,!1);c(this,f,!1);c(this,b,!1);c(this,x,void 0);c(this,y,void 0);c(this,d,void 0);try{this.preventDbInstance(t),i.push({type:"Collapsible",instance:this}),this.el=document.querySelector(t),this.options=V("Collapsible",s,this.el),this.setup()}catch(l){console.error("[Axentix] Collapsible init error",l)}}setup(){A(this.el,"collapsible.setup"),a(this,g,_(this.el.id)),a(this,m,!0),a(this,u,!!this.el.classList.contains("active")),a(this,f,!1),a(this,d,""),a(this,b,!1),this.setupListeners(),this.el.style.transitionDuration=this.options.animationDuration+"ms",p(this,T,nt).call(this),a(this,b,!!this.el.querySelector(".active")),this.options.sidenav.activeClass&&p(this,k,ot).call(this),o(this,u)&&this.open(),a(this,m,!1)}setupListeners(){a(this,x,p(this,q,lt).bind(this)),o(this,g).forEach(t=>t.addEventListener("click",o(this,x))),a(this,y,p(this,I,it).bind(this)),window.addEventListener("resize",o(this,y))}removeListeners(){o(this,g).forEach(t=>t.removeEventListener("click",o(this,x))),a(this,x,void 0),window.removeEventListener("resize",o(this,y)),a(this,y,void 0)}open(){o(this,u)&&!o(this,m)||(A(this.el,"collapsible.open"),a(this,u,!0),a(this,f,!0),this.el.style.display="block",p(this,w,F).call(this),this.el.style.maxHeight=this.el.scrollHeight+"px",this.options.sidenav.activeWhenOpen&&p(this,O,W).call(this,!0),this.options.sidenav.autoClose&&p(this,S,rt).call(this),setTimeout(()=>{a(this,f,!1)},this.options.animationDuration))}close(){!o(this,u)||(A(this.el,"collapsible.close"),a(this,f,!0),this.el.style.maxHeight="",p(this,w,F).call(this),this.options.sidenav.activeWhenOpen&&p(this,O,W).call(this,!1),setTimeout(()=>{this.el.style.display="",a(this,f,!1),a(this,u,!1)},this.options.animationDuration))}}return g=new WeakMap,D=new WeakMap,m=new WeakMap,u=new WeakMap,f=new WeakMap,b=new WeakMap,x=new WeakMap,y=new WeakMap,d=new WeakMap,I=new WeakSet,it=function(){o(this,u)&&!o(this,d)&&(this.el.style.maxHeight=this.el.scrollHeight+"px")},T=new WeakSet,nt=function(){const t=this.el.closest(".sidenav");t&&(a(this,d,t.id),a(this,D,o(this,g).filter(s=>{var l;return((l=s.closest(".sidenav"))==null?void 0:l.id)===t.id})))},k=new WeakSet,ot=function(){!o(this,b)||!o(this,d)||(o(this,D).forEach(t=>t.classList.add("active")),this.el.classList.add("active"),this.open(),a(this,u,!0))},O=new WeakSet,W=function(t){!o(this,d)||o(this,D).forEach(s=>{t?s.classList.add("active"):s.classList.remove("active")})},S=new WeakSet,rt=function(){!o(this,m)&&o(this,d)&&X("Collapsible").forEach(t=>{o(t,d)===o(this,d)&&t.el.id!==this.el.id&&t.close()})},w=new WeakSet,F=function(){this.el.style.overflow="hidden",setTimeout(()=>{this.el.style.overflow=""},this.options.animationDuration)},q=new WeakSet,lt=function(t){t.preventDefault(),!o(this,f)&&(o(this,u)?this.close():this.open())},H($,"getDefaultOptions",()=>tt),B({class:$,name:"Collapsible",dataDetection:!0,autoInit:{enabled:!0,selector:".collapsible"}}),$});
