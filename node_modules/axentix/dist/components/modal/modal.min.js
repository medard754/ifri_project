var Q=Object.defineProperty;var R=(o,i,n)=>i in o?Q(o,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[i]=n;var L=(o,i,n)=>(R(o,typeof i!="symbol"?i+"":i,n),n),b=(o,i,n)=>{if(!i.has(o))throw TypeError("Cannot "+n)};var c=(o,i,n)=>(b(o,i,"read from private field"),n?n.call(o):i.get(o)),m=(o,i,n)=>{if(i.has(o))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(o):i.set(o,n)},u=(o,i,n,y)=>(b(o,i,"write to private field"),y?y.call(o,n):i.set(o,n),n);var A=(o,i,n)=>(b(o,i,"access private method"),n);(function(o,i){typeof exports=="object"&&typeof module!="undefined"?module.exports=i():typeof define=="function"&&define.amd?define(i):(o=typeof globalThis!="undefined"?globalThis:o||self,o.Modal=i())})(this,function(){var v,d,h,p,D,T,E,V,O,W;"use strict";var o="";const i=[],n={components:[],plugins:[],prefix:"ax",mode:""},y=e=>n.components.find(t=>t.name===e).class,I=()=>{const e=n.components.filter(s=>s.dataDetection),t=n.plugins.filter(s=>s.dataDetection);return[...e,...t].map(s=>s.name)},M=(e,t)=>{if(!e.name||!e.class){console.error(`[Axentix] Error registering ${t} : Missing required parameters.`);return}if(n[t].some(s=>s.name===e.name)){console.error(`[Axentix] Error registering ${t} : Already exist.`);return}e.autoInit&&(e.autoInit.selector=e.autoInit.selector+=":not(.no-axentix-init)"),n[t].push(e)},q=e=>{M(e,"components")},$=e=>e.replace(/[\w]([A-Z])/g,t=>t[0]+"-"+t[1]).toLowerCase(),U=(e,t="")=>{const s=$(e);return t?t+"-"+s:s},N=(e,t,s,r,a="")=>{const l=t[0].toUpperCase()+t.slice(1).toLowerCase();I().includes(l)&&s!=="Collapsible"&&l!=="Sidenav"&&(e[t]=y(l).getDefaultOptions());const g=a?a+"-"+t:t,x=w(e[t],s,r,g);if(!(Object.keys(x).length===0&&e.constructor===Object))return x},w=(e,t,s,r="")=>Object.keys(e).reduce((a,l)=>{if(typeof e[l]=="object"&&e[l]!==null){const g=N(e,l,t,s,r);g&&(a[l]=g)}else if(e[l]!==null){const g="data-"+t.toLowerCase()+"-"+U(l,r);if(s.hasAttribute(g)){const x=s.getAttribute(g);a[l]=typeof e[l]=="number"?Number(x):x,typeof e[l]=="boolean"&&(a[l]=x==="true")}}return a},{}),z=(e,t)=>{const s=Object.assign({},y(e).getDefaultOptions());return w(s,e,t)},F=()=>{document.querySelectorAll("[data-ax]").forEach(t=>{let s=t.dataset.ax;if(s=s[0].toUpperCase()+s.slice(1).toLowerCase(),!I().includes(s)){console.error(`[Axentix] Error: ${s} component doesn't exist. 
 Did you forget to register him ?`,t);return}try{const r=y(s);new r(`#${t.id}`)}catch(r){console.error("[Axentix] Data: Unable to load "+s,r)}})},Z=()=>{try{new Axentix.Axentix("all")}catch(e){console.error("[Axentix] Unable to auto init.",e)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&Z(),F()});const S=(...e)=>e.reduce((t,s)=>{for(let r in s)t[r]=typeof s[r]=="object"&&s[r]!==null?S(t[r],s[r]):s[r];return t},{}),B=(e,t,s)=>S(y(e).getDefaultOptions(),z(e,s),t),f=(e,t,s)=>{const r=new CustomEvent("ax."+t,{detail:s||{},bubbles:!0});e.dispatchEvent(r)},P=e=>{const t=i.find(s=>s.type!=="Toast"&&"#"+s.instance.el.id===e);return t?t.instance:!1},G=(e,t,s,r)=>{const a=e&&t?document.querySelector(`.ax-overlay[data-target="${s}"]`):document.createElement("div");return a.classList.add("ax-overlay"),a.style.transitionDuration=r+"ms",a.dataset.target=s,a},k=(e,t,s,r,a)=>{!e||(r?(t.addEventListener("click",s),document.body.appendChild(t),setTimeout(()=>{t.classList.add("active")},50)):(t.classList.remove("active"),setTimeout(()=>{t.removeEventListener("click",s),document.body.removeChild(t)},a)))},H=(e,t='[data-target="{ID}"]')=>Array.from(document.querySelectorAll(t.replace("{ID}",e)));class J{constructor(){L(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(t){if(t&&P(t))throw new Error(`Instance already exist on ${t}`)}sync(){f(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){f(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){f(this.el,"component.destroy"),this.removeListeners();const t=i.findIndex(s=>s.instance.el.id===this.el.id);i.splice(t,1)}}const K={overlay:!0,bodyScrolling:!1,animationDuration:400};class C extends J{constructor(t,s){super();m(this,D);m(this,E);m(this,O);L(this,"options");L(this,"overlayElement");m(this,v,void 0);m(this,d,!1);m(this,h,!1);m(this,p,void 0);try{this.preventDbInstance(t),i.push({type:"Modal",instance:this}),this.el=document.querySelector(t),this.options=B("Modal",s,this.el),this.setup()}catch(r){console.error("[Axentix] Modal init error",r)}}setup(){f(this.el,"modal.setup"),u(this,v,H(this.el.id)),u(this,d,!!this.el.classList.contains("active")),u(this,h,!1),this.setupListeners(),this.options.overlay&&(this.overlayElement=G(c(this,d),this.options.overlay,this.el.id,this.options.animationDuration)),this.el.style.transitionDuration=this.options.animationDuration+"ms",this.el.style.animationDuration=this.options.animationDuration+"ms"}setupListeners(){u(this,p,A(this,O,W).bind(this)),c(this,v).forEach(t=>t.addEventListener("click",c(this,p)))}removeListeners(){c(this,v).forEach(t=>t.removeEventListener("click",c(this,p))),u(this,p,void 0)}open(){c(this,d)||(f(this.el,"modal.open"),u(this,d,!0),u(this,h,!0),A(this,E,V).call(this),this.el.style.display="block",k(this.options.overlay,this.overlayElement,c(this,p),!0,this.options.animationDuration),A(this,D,T).call(this,!1),setTimeout(()=>{this.el.classList.add("active")},50),setTimeout(()=>{u(this,h,!1),f(this.el,"modal.opened")},this.options.animationDuration))}close(){!c(this,d)||(f(this.el,"modal.close"),u(this,h,!0),this.el.classList.remove("active"),k(this.options.overlay,this.overlayElement,c(this,p),!1,this.options.animationDuration),setTimeout(()=>{this.el.style.display="",u(this,h,!1),u(this,d,!1),A(this,D,T).call(this,!0),f(this.el,"modal.closed")},this.options.animationDuration))}}return v=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,D=new WeakSet,T=function(t){this.options.bodyScrolling||(document.body.style.overflow=t?"":"hidden")},E=new WeakSet,V=function(){const t=document.querySelectorAll(".modal.active").length+1;this.options.overlay&&(this.overlayElement.style.zIndex=String(800+t*10-2)),this.el.style.zIndex=String(800+t*10)},O=new WeakSet,W=function(t){t.preventDefault(),!c(this,h)&&(c(this,d)?this.close():this.open())},L(C,"getDefaultOptions",()=>K),q({class:C,name:"Modal",dataDetection:!0,autoInit:{enabled:!0,selector:".modal"}}),C});
