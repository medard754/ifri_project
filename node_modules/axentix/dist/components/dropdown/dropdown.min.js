var X=Object.defineProperty;var Y=(n,i,o)=>i in n?X(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var k=(n,i,o)=>(Y(n,typeof i!="symbol"?i+"":i,o),o),q=(n,i,o)=>{if(!i.has(n))throw TypeError("Cannot "+o)};var r=(n,i,o)=>(q(n,i,"read from private field"),o?o.call(n):i.get(n)),p=(n,i,o)=>{if(i.has(n))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(n):i.set(n,o)},c=(n,i,o,m)=>(q(n,i,"write to private field"),m?m.call(n,o):i.set(n,o),o);var L=(n,i,o)=>(q(n,i,"access private method"),o);(function(n,i){typeof exports=="object"&&typeof module!="undefined"?module.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis!="undefined"?globalThis:n||self,n.Dropdown=i())})(this,function(){var u,g,f,d,y,v,w,E,_,O,j,T,tt,b,et,A,V;"use strict";var n="";const i=[],o={components:[],plugins:[],prefix:"ax",mode:""},m=e=>o.components.find(t=>t.name===e).class,H=()=>{const e=o.components.filter(s=>s.dataDetection),t=o.plugins.filter(s=>s.dataDetection);return[...e,...t].map(s=>s.name)},$=(e,t)=>{if(!e.name||!e.class){console.error(`[Axentix] Error registering ${t} : Missing required parameters.`);return}if(o[t].some(s=>s.name===e.name)){console.error(`[Axentix] Error registering ${t} : Already exist.`);return}e.autoInit&&(e.autoInit.selector=e.autoInit.selector+=":not(.no-axentix-init)"),o[t].push(e)},U=e=>{$(e,"components")},N=e=>e.replace(/[\w]([A-Z])/g,t=>t[0]+"-"+t[1]).toLowerCase(),B=(e,t="")=>{const s=N(e);return t?t+"-"+s:s},F=(e,t,s,a,x="")=>{const l=t[0].toUpperCase()+t.slice(1).toLowerCase();H().includes(l)&&s!=="Collapsible"&&l!=="Sidenav"&&(e[t]=m(l).getDefaultOptions());const D=x?x+"-"+t:t,C=R(e[t],s,a,D);if(!(Object.keys(C).length===0&&e.constructor===Object))return C},R=(e,t,s,a="")=>Object.keys(e).reduce((x,l)=>{if(typeof e[l]=="object"&&e[l]!==null){const D=F(e,l,t,s,a);D&&(x[l]=D)}else if(e[l]!==null){const D="data-"+t.toLowerCase()+"-"+B(l,a);if(s.hasAttribute(D)){const C=s.getAttribute(D);x[l]=typeof e[l]=="number"?Number(C):C,typeof e[l]=="boolean"&&(x[l]=C==="true")}}return x},{}),M=(e,t)=>{const s=Object.assign({},m(e).getDefaultOptions());return R(s,e,t)},P=()=>{document.querySelectorAll("[data-ax]").forEach(t=>{let s=t.dataset.ax;if(s=s[0].toUpperCase()+s.slice(1).toLowerCase(),!H().includes(s)){console.error(`[Axentix] Error: ${s} component doesn't exist. 
 Did you forget to register him ?`,t);return}try{const a=m(s);new a(`#${t.id}`)}catch(a){console.error("[Axentix] Data: Unable to load "+s,a)}})},Z=()=>{try{new Axentix.Axentix("all")}catch(e){console.error("[Axentix] Unable to auto init.",e)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&Z(),P()});const S=(...e)=>e.reduce((t,s)=>{for(let a in s)t[a]=typeof s[a]=="object"&&s[a]!==null?S(t[a],s[a]):s[a];return t},{}),z=(e,t,s)=>S(m(e).getDefaultOptions(),M(e,s),t),h=(e,t,s)=>{const a=new CustomEvent("ax."+t,{detail:s||{},bubbles:!0});e.dispatchEvent(a)},G=e=>i.filter(t=>t.type===e).map(t=>t.instance),J=e=>{const t=i.find(s=>s.type!=="Toast"&&"#"+s.instance.el.id===e);return t?t.instance:!1},K=(e,t='[data-target="{ID}"]')=>Array.from(document.querySelectorAll(t.replace("{ID}",e)));class Q{constructor(){k(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(t){if(t&&J(t))throw new Error(`Instance already exist on ${t}`)}sync(){h(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){h(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){h(this.el,"component.destroy"),this.removeListeners();const t=i.findIndex(s=>s.instance.el.id===this.el.id);i.splice(t,1)}}const W={animationDuration:300,animationType:"none",hover:!1,autoClose:!0,preventViewport:!1,closeOnClick:!0};class I extends Q{constructor(t,s){super();p(this,E);p(this,O);p(this,T);p(this,b);p(this,A);k(this,"options");p(this,u,void 0);p(this,g,void 0);p(this,f,!1);p(this,d,!1);p(this,y,void 0);p(this,v,void 0);p(this,w,void 0);try{this.preventDbInstance(t),i.push({type:"Dropdown",instance:this}),this.el=document.querySelector(t),this.options=z("Dropdown",s,this.el),this.setup()}catch(a){console.error("[Axentix] Dropdown init error",a)}}setup(){h(this.el,"dropdown.setup"),c(this,u,this.el.querySelector(".dropdown-content")),c(this,g,K(this.el.id)[0]),c(this,f,!1),c(this,d,!!this.el.classList.contains("active")),this.options.hover?this.el.classList.add("active-hover"):this.setupListeners(),this.options.preventViewport&&this.el.classList.add("dropdown-vp"),L(this,E,_).call(this)}setupListeners(){this.options.hover||(c(this,v,L(this,T,tt).bind(this)),r(this,g).addEventListener("click",r(this,v)),c(this,y,L(this,O,j).bind(this)),document.addEventListener("click",r(this,y),!0),c(this,w,L(this,A,V).bind(this)),this.options.preventViewport&&window.addEventListener("scroll",r(this,w)))}removeListeners(){this.options.hover||(r(this,g).removeEventListener("click",r(this,v)),c(this,v,void 0),document.removeEventListener("click",r(this,y),!0),c(this,y,void 0),this.options.preventViewport&&window.removeEventListener("scroll",r(this,w)),c(this,w,void 0))}open(){r(this,d)||(h(this.el,"dropdown.open"),r(this,u).style.display="flex",this.options.preventViewport&&L(this,A,V).call(this),setTimeout(()=>{this.el.classList.add("active"),c(this,d,!0)},10),this.options.autoClose&&L(this,b,et).call(this),this.options.animationType!=="none"?(c(this,f,!0),setTimeout(()=>{c(this,f,!1),h(this.el,"dropdown.opened")},this.options.animationDuration)):h(this.el,"dropdown.opened"))}close(){!r(this,d)||(h(this.el,"dropdown.close"),this.el.classList.remove("active"),this.options.animationType!=="none"?(c(this,f,!0),setTimeout(()=>{r(this,u).style.display="",c(this,f,!1),c(this,d,!1),h(this.el,"dropdown.closed")},this.options.animationDuration)):(r(this,u).style.display="",c(this,d,!1),h(this.el,"dropdown.closed")))}}return u=new WeakMap,g=new WeakMap,f=new WeakMap,d=new WeakMap,y=new WeakMap,v=new WeakMap,w=new WeakMap,E=new WeakSet,_=function(){const t=["none","fade"];this.options.animationType=this.options.animationType.toLowerCase(),t.includes(this.options.animationType)||(this.options.animationType="none"),this.options.animationType==="fade"&&!this.options.hover&&(r(this,u).style.transitionDuration=this.options.animationDuration+"ms",this.el.classList.add("dropdown-anim-fade"))},O=new WeakSet,j=function(t){t.target===r(this,g)||r(this,f)||!r(this,d)||!this.options.closeOnClick&&t.target.closest(".dropdown-content")||this.close()},T=new WeakSet,tt=function(t){t.preventDefault(),!r(this,f)&&(r(this,d)?this.close():this.open())},b=new WeakSet,et=function(){G("Dropdown").forEach(t=>{t.el.id!==this.el.id&&t.close()})},A=new WeakSet,V=function(){const t=r(this,u).getBoundingClientRect(),s=t.height-(t.bottom-(window.innerHeight||document.documentElement.clientHeight))-10;r(this,u).style.maxHeight=s+"px"},k(I,"getDefaultOptions",()=>W),U({class:I,name:"Dropdown",dataDetection:!0,autoInit:{enabled:!0,selector:".dropdown"}}),I});
