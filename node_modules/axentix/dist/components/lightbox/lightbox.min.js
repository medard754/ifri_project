var dt=Object.defineProperty;var pt=(h,n,l)=>n in h?dt(h,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):h[n]=l;var K=(h,n,l)=>(pt(h,typeof n!="symbol"?n+"":n,l),l),G=(h,n,l)=>{if(!n.has(h))throw TypeError("Cannot "+l)};var e=(h,n,l)=>(G(h,n,"read from private field"),l?l.call(h):n.get(h)),r=(h,n,l)=>{if(n.has(h))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(h):n.set(h,l)},o=(h,n,l,E)=>(G(h,n,"write to private field"),E?E.call(h,l):n.set(h,l),l);var u=(h,n,l)=>(G(h,n,"access private method"),l);(function(h,n){typeof exports=="object"&&typeof module!="undefined"?module.exports=n():typeof define=="function"&&define.amd?define(n):(h=typeof globalThis!="undefined"?globalThis:h||self,h.Lightbox=n())})(this,function(){var C,O,D,k,A,p,R,T,c,x,L,f,N,y,b,v,S,ut,U,ft,H,yt,P,vt,W,wt,X,gt,$,mt,z,xt,q,Lt,B,bt,M,Y,Et,F,Ct;"use strict";var h="";const n=[],l={components:[],plugins:[],prefix:"ax",mode:""},E=s=>l.components.find(t=>t.name===s).class,J=()=>{const s=l.components.filter(i=>i.dataDetection),t=l.plugins.filter(i=>i.dataDetection);return[...s,...t].map(i=>i.name)},_=(s,t)=>{if(!s.name||!s.class){console.error(`[Axentix] Error registering ${t} : Missing required parameters.`);return}if(l[t].some(i=>i.name===s.name)){console.error(`[Axentix] Error registering ${t} : Already exist.`);return}s.autoInit&&(s.autoInit.selector=s.autoInit.selector+=":not(.no-axentix-init)"),l[t].push(s)},j=s=>{_(s,"components")},tt=s=>s.replace(/[\w]([A-Z])/g,t=>t[0]+"-"+t[1]).toLowerCase(),et=(s,t="")=>{const i=tt(s);return t?t+"-"+i:i},it=(s,t,i,a,w="")=>{const d=t[0].toUpperCase()+t.slice(1).toLowerCase();J().includes(d)&&i!=="Collapsible"&&d!=="Sidenav"&&(s[t]=E(d).getDefaultOptions());const g=w?w+"-"+t:t,I=Q(s[t],i,a,g);if(!(Object.keys(I).length===0&&s.constructor===Object))return I},Q=(s,t,i,a="")=>Object.keys(s).reduce((w,d)=>{if(typeof s[d]=="object"&&s[d]!==null){const g=it(s,d,t,i,a);g&&(w[d]=g)}else if(s[d]!==null){const g="data-"+t.toLowerCase()+"-"+et(d,a);if(i.hasAttribute(g)){const I=i.getAttribute(g);w[d]=typeof s[d]=="number"?Number(I):I,typeof s[d]=="boolean"&&(w[d]=I==="true")}}return w},{}),st=(s,t)=>{const i=Object.assign({},E(s).getDefaultOptions());return Q(i,s,t)},nt=()=>{document.querySelectorAll("[data-ax]").forEach(t=>{let i=t.dataset.ax;if(i=i[0].toUpperCase()+i.slice(1).toLowerCase(),!J().includes(i)){console.error(`[Axentix] Error: ${i} component doesn't exist. 
 Did you forget to register him ?`,t);return}try{const a=E(i);new a(`#${t.id}`)}catch(a){console.error("[Axentix] Data: Unable to load "+i,a)}})},ot=()=>{try{new Axentix.Axentix("all")}catch(s){console.error("[Axentix] Unable to auto init.",s)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&ot(),nt()});const V=(...s)=>s.reduce((t,i)=>{for(let a in i)t[a]=typeof i[a]=="object"&&i[a]!==null?V(t[a],i[a]):i[a];return t},{}),rt=(s,t,i)=>V(E(s).getDefaultOptions(),st(s,i),t),ht=(s,t=document.createElement("div"))=>(s[0].parentElement.insertBefore(t,s[0]),s.forEach(a=>t.appendChild(a)),t),m=(s,t,i)=>{const a=new CustomEvent("ax."+t,{detail:i||{},bubbles:!0});s.dispatchEvent(a)},lt=s=>{const t=n.find(i=>i.type!=="Toast"&&"#"+i.instance.el.id===s);return t?t.instance:!1};class at{constructor(){K(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(t){if(t&&lt(t))throw new Error(`Instance already exist on ${t}`)}sync(){m(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){m(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){m(this.el,"component.destroy"),this.removeListeners();const t=n.findIndex(i=>i.instance.el.id===this.el.id);n.splice(t,1)}}const ct={animationDuration:400,overlayClass:"grey dark-4",offset:150,mobileOffset:80,caption:""};class Z extends at{constructor(t,i){super();r(this,S);r(this,U);r(this,H);r(this,P);r(this,W);r(this,X);r(this,$);r(this,z);r(this,q);r(this,B);r(this,Y);r(this,F);K(this,"options");r(this,C,void 0);r(this,O,void 0);r(this,D,void 0);r(this,k,void 0);r(this,A,void 0);r(this,p,void 0);r(this,R,void 0);r(this,T,void 0);r(this,c,void 0);r(this,x,0);r(this,L,0);r(this,f,!1);r(this,N,!1);r(this,y,void 0);r(this,b,!1);r(this,v,!1);r(this,M,()=>{e(this,f)&&this.close()});try{this.preventDbInstance(t),n.push({type:"Lightbox",instance:this}),this.el=document.querySelector(t),this.options=rt("Lightbox",i,this.el),this.setup()}catch(a){console.error("[Axentix] Lightbox init error",a)}}setup(){m(this.el,"lightbox.setup"),this.el.style.transitionDuration=this.options.animationDuration+"ms",o(this,y,ht([this.el])),this.setupListeners()}setupListeners(){o(this,C,u(this,F,Ct).bind(this)),this.el.addEventListener("click",e(this,C)),o(this,D,u(this,q,Lt).bind(this)),o(this,k,u(this,B,bt).bind(this)),o(this,A,e(this,M).bind(this)),o(this,O,u(this,z,xt).bind(this)),window.addEventListener("keyup",e(this,D)),window.addEventListener("scroll",e(this,k)),window.addEventListener("resize",e(this,A)),this.el.addEventListener("transitionend",e(this,O))}removeListeners(){this.el.removeEventListener("click",e(this,C)),this.el.removeEventListener("transitionend",e(this,O)),window.removeEventListener("keyup",e(this,D)),window.removeEventListener("scroll",e(this,k)),window.removeEventListener("resize",e(this,A)),o(this,C,void 0),o(this,D,void 0),o(this,k,void 0),o(this,A,void 0),o(this,O,void 0)}open(){o(this,v,!0);let t,i;e(this,b)?t=i=e(this,y).getBoundingClientRect():t=i=this.el.getBoundingClientRect(),o(this,b,!1),u(this,S,ut).call(this),u(this,U,ft).call(this);const a=window.innerHeight/2,w=window.innerWidth/2;o(this,c,t),this.el.style.width=e(this,c).width+"px",this.el.style.height=e(this,c).height+"px",this.el.style.top="0",this.el.style.left="0";const d=a+window.scrollY-(i.top+window.scrollY),g=w+window.scrollX-(i.left+window.scrollX);u(this,W,wt).call(this),e(this,y).style.position="relative",setTimeout(()=>{m(this.el,"lightbox.open"),o(this,f,!0),this.el.classList.contains("responsive-media")&&(o(this,N,!0),this.el.classList.remove("responsive-media")),this.el.classList.add("active"),e(this,y).style.width=e(this,c).width+"px",e(this,y).style.height=e(this,c).height+"px",this.el.style.width=e(this,L)+"px",this.el.style.height=e(this,x)+"px",this.el.style.top=d-e(this,x)/2+"px",this.el.style.left=g-e(this,L)/2+"px"},50)}close(t){(t==null?void 0:t.key)&&t.key!=="Escape"||(o(this,f,!1),o(this,b,!0),o(this,v,!1),m(this.el,"lightbox.close"),u(this,H,yt).call(this),this.el.style.position="absolute",this.el.style.top="0px",this.el.style.left="0px",this.el.style.width=e(this,c).width+"px",this.el.style.height=e(this,c).height+"px")}}return C=new WeakMap,O=new WeakMap,D=new WeakMap,k=new WeakMap,A=new WeakMap,p=new WeakMap,R=new WeakMap,T=new WeakMap,c=new WeakMap,x=new WeakMap,L=new WeakMap,f=new WeakMap,N=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakMap,S=new WeakSet,ut=function(){if(!e(this,p)){if(u(this,X,gt).call(this),o(this,p,document.createElement("div")),e(this,p).style.transitionDuration=this.options.animationDuration+"ms",e(this,p).className="lightbox-overlay "+this.options.overlayClass,e(this,y).appendChild(e(this,p)),this.options.caption){const t=document.createElement("p");t.className="lightbox-caption",t.innerHTML=this.options.caption,e(this,p).appendChild(t)}o(this,R,this.close.bind(this)),e(this,p).addEventListener("click",e(this,R))}},U=new WeakSet,ft=function(){setTimeout(()=>{e(this,p).style.opacity="1"},50)},H=new WeakSet,yt=function(){e(this,p).style.opacity="0"},P=new WeakSet,vt=function(){e(this,p).removeEventListener("click",e(this,R)),e(this,p).remove(),o(this,p,null)},W=new WeakSet,wt=function(){const t=window.innerWidth>=960?this.options.offset:this.options.mobileOffset;window.innerWidth/window.innerHeight>=e(this,c).width/e(this,c).height?(o(this,x,window.innerHeight-t),o(this,L,e(this,x)*e(this,c).width/e(this,c).height)):(o(this,L,window.innerWidth-t),o(this,x,e(this,L)*e(this,c).height/e(this,c).width))},X=new WeakSet,gt=function(){o(this,T,[]);for(let t=this.el;t&&t!==document;t=t.parentNode){const i=window.getComputedStyle(t);(i.overflow==="hidden"||i.overflowX==="hidden"||i.overflowY==="hidden")&&(e(this,T).push(t),t!==document.body&&t.style.setProperty("overflow","visible","important"),document.body.style.overflowX="hidden")}},$=new WeakSet,mt=function(){e(this,T).forEach(t=>t.style.overflow=""),document.body.style.overflowX=""},z=new WeakSet,xt=function(t){!t.propertyName.includes("width")&&!t.propertyName.includes("height")||(e(this,b)?(u(this,Y,Et).call(this),o(this,b,!1),o(this,f,!1),m(this.el,"lightbox.closed")):e(this,v)&&(o(this,v,!1),m(this.el,"lightbox.opened")))},q=new WeakSet,Lt=function(t){t.key==="Escape"&&(e(this,v)||e(this,f))&&this.close()},B=new WeakSet,bt=function(){(e(this,f)||e(this,v))&&this.close()},M=new WeakMap,Y=new WeakSet,Et=function(){this.el.classList.remove("active"),u(this,P,vt).call(this),u(this,$,mt).call(this),e(this,N)&&this.el.classList.add("responsive-media"),e(this,y).removeAttribute("style"),this.el.style.position="",this.el.style.left="",this.el.style.top="",this.el.style.width="",this.el.style.height="",this.el.style.transform=""},F=new WeakSet,Ct=function(){if(e(this,v)||e(this,f)){this.close();return}this.open()},K(Z,"getDefaultOptions",()=>ct),j({class:Z,name:"Lightbox",dataDetection:!0,autoInit:{enabled:!0,selector:".lightbox"}}),Z});
